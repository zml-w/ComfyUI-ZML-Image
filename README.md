<div align="center">
  
## English-speaking users need to download the translation patch!

# [Click here to download](https://github.com/zml-w/ZZZ_ZML_English_Patch)

</div>


# 💕简单介绍一下节点：
**这是一个功能丰富的COMFYUI自定义节点，主要和“图像、文本、LoRA加载器、逻辑、整数和遮罩”相关，还有一些非常好用的节点工具。目前节点总数共有90+。**

`我是按照自己的需求来开发的`

`部分节点有“help”输出接口，里面写着节点的详细介绍，没有help的还不知道怎么用的可以看以前的版本更新介绍。`

 `节点名称全部以“ZML_”开头，并且节点全部放在comfyui官方"图像"分类下的子分类"ZML_图像”里。`

 <details>
<summary>点击此处查看图像节点介绍</summary>

> ### 最开始是为了方便管理图像和提示词而设计，将提示词以PNG文本块的方式保存在图像里：
> <img width="1632" height="875" alt="1_1" src="https://github.com/user-attachments/assets/b23e248e-dc40-4000-9cb7-0f77dd448350" />
>
> ### 为了更加方便管理，我还做了一个可视化UI：
> <img width="1739" height="877" alt="1_15" src="https://github.com/user-attachments/assets/14957496-ca5e-406d-8c07-e944371c98f3" />
> 
> ### 可以实时编辑文本块：
> <img width="1796" height="889" alt="1_16" src="https://github.com/user-attachments/assets/49a5645c-61d7-4f90-88c4-bf137a63a808" />
> 
> ### 然后输出：
> <img width="1413" height="617" alt="1_6" src="https://github.com/user-attachments/assets/9c805e33-40dc-468d-a4a1-6bd8df9ff7ee" />
>
> ### 从路径加载图像节点可以随机图像和文本块，加载图像可以输出透明通道和文本块，就不配图了。

> ### 然后是其它的图像节点，比如可视化裁剪图像：
> <img width="982" height="893" alt="1_2" src="https://github.com/user-attachments/assets/3bbf3bb4-9c4e-4d9a-bf0b-6a415d0eea7b" />
> <img width="1254" height="753" alt="1_3" src="https://github.com/user-attachments/assets/9c7d6257-9f81-4d61-9fde-1b606cc6a0ef" />
> 
> ### 可视化合并图像：
> <img width="911" height="894" alt="1_4" src="https://github.com/user-attachments/assets/e79c6d57-1714-4347-8559-082a191ddf1c" />
> <img width="1290" height="760" alt="1_5" src="https://github.com/user-attachments/assets/8af17c60-e8e6-4758-a81a-415f37a71cf6" />
> 
> ### 画画：
> <img width="1048" height="925" alt="1_8" src="https://github.com/user-attachments/assets/0b60dbbb-bf59-4fea-b93f-fc5470e6db2b" />

</details>

 <details>
<summary>点击此处查看LoRA节点介绍</summary>

> ### 因为功能较多，所以我不详细介绍了，看图应该可以看懂个大概。
> 
> ### 不过有个功能我非常想告诉你！那就是节点可以给Nunchuck使用！！使用强力lora节点的功能来管理你的LoRA，再把加载的LoRA列表连接给我为Nunchuck专门做的加载节点上，即可使用强力LoRA加载器的强大功能来使用Nunchuck！！
>
> ### 给LoRA一个自定义文本或触发词模板，即可通过点击一个按钮来快速切换功能！一键3D、一键写实！一键手办！一键TY……
>  <img width="1559" height="748" alt="1_13" src="https://github.com/user-attachments/assets/a8d2cc89-6572-4686-85b6-94b57e1cec96" />
> 
> ### 可视化UI管理你的LoRA：
> <img width="1069" height="826" alt="1_9" src="https://github.com/user-attachments/assets/379631be-4fbc-43c3-93a9-21c2c3e4ac23" />
>
> ### 预览MP4！
> https://github.com/user-attachments/assets/14200a30-581d-4fd1-9dfc-f145f91aa593
> 
> ### 实时更改触发词和LoRA介绍：
> <img width="1103" height="759" alt="356" src="https://github.com/user-attachments/assets/65a3e0b3-04df-46e3-afa9-a2ff173ba6d5" />
> 

</details>

 <details>
<summary>点击此处查看其它节点介绍</summary>

> ### 桌宠！聊天！娱乐！涩涩……
> <img width="1356" height="865" alt="1_7" src="https://github.com/user-attachments/assets/5aa82821-520e-4d8e-9e55-44af75f40412" />
> 
> ### 生成文字图像和为图像添加文字：
> <img width="1582" height="843" alt="1_11" src="https://github.com/user-attachments/assets/97caad3f-ac3d-44a8-acaf-b0719a65fc79" />
> 
> ### 功能丰富的文本节点，不介绍了，看图即可：
> <img width="1662" height="869" alt="1_14" src="https://github.com/user-attachments/assets/bf64f1bb-c476-403c-a01e-eb649bcfde8c" />
> 
> ### 为多人图制作的多个遮罩节点：
> <img width="1225" height="743" alt="1_10" src="https://github.com/user-attachments/assets/e8a3dfd8-9d76-4f16-b47b-d5b8e177eb30" />
> 
> #### 节点很多且更新很快，所以就不在这里一一介绍了。可以在版本更新介绍里查看！每个新增节点都会有介绍。

</details>

## ✨版本更新文字介绍

> ### 最新更新日期： **2025.10.31**
>

> - #### 从路径加载图像V2节点更名为了 标签化图像加载器V2 ，并在缩略图左上角添加了实时编辑文本块的按钮。
>
> - #### 优化了文本图像节点在多图模式下没有分配足够分隔符情况下的处理逻辑。
>
> - #### 修复了预设分辨率节点在没有开启随机模式的情况下也会每次重新输出新latent的问题。
>
> - #### 画画节点的自适应动画改为了可选。
>

<details>
<summary>点击查看往期更多更新内容</summary>


> ### 更新日期： **2025.10.28**
>

> - #### 完善了文本图像节点的功能。
>
> - #### 完善了从路径加载图像V2节点的功能。
>
> - #### 从网上找了一些免费可商业的字体文件。
>
> ### 更新日期： **2025.10.19**
>

> - #### 新增切换输出-五节点，新增运算判断节点，新增下游节点开关节点。
>
> - #### 桥接预览图像节点新增了关闭输出开关，开启后不执行下游节点。
>
> - #### 添加合并文本（动态）节点，默认一个接口，连接一个后自动出现第二个接口。
>
> - #### 修改了文本图像节点，之前的多图模式是像xy表格那样递增数字的，使用场景太少。将关键词改为了“#-#”作为多图文本之间的分隔符，更多介绍请看节点的help输出接口。
>
> - #### 优化了标签化提示词节点的翻译和搜索逻辑，并添加了三个txt用于搜索和翻译提示词。
>

> ### 更新日期： **2025.10.16**
>

> - #### 修改了图像分类和图像暂停节点，删掉了分隔符，现在未选中的接口不会输出任何东西了，完美的解决了！
>
> - #### 新增了预览图像节点，节点可以暂存图像，比如设置为3的时候，节点必须在输入三次后才会更新，不到次数的话就将之前和现在输入的图像一起展示。
>
> - #### 新增了布尔反转节点。
>
> - #### 新增了相等判断节点，设定目标A， BCDE和A比较， 和A相等的就+1 ，最终输出一个整数。
>
> - #### 新增任意切换和任意切换_五节点，输入任意输出任意，通过索引值选择输出的值。
>
> - #### 新增切换输出节点，输入一个值，选择走输出接口1还是2。
>

> ### 更新日期： **2025.10.13**
>

> - #### 文本选择V3节点更新.
>
>   * 添加了一个可选的文本输入接口,方便串联.
>  
>   * 支持了随机输出选中的文本.
>  
>   * 支持将节点里的文件夹一键保存到预设.
>  
>   * 支持了自定义开启状态的颜色,也支持了恢复默认颜色.
>  
>   * 锁定模式不仅禁用了排序功能,还禁用了编辑功能,但在锁定模式下可以点击文本框的任意地方来打开和关闭这个文本框,不需要再点击那个小按钮了,而且开启的文本框还会有颜色边框.
>
> - #### 强力LoRA加载器节点更新.
>
>   * 支持了自定义开启状态的颜色,也支持了恢复默认颜色.
>  
>   * 锁定模式下禁用了编辑LoRA和文本的,只可以调整权重和开关LoRA,但锁定模式下可以点击LoRA框的任意地方来打开和关闭,不需要再点击那个小按钮了,而且开启的LoRA框还会有颜色边框.
>  
>   * 支持了预设LoRA文件夹的功能,可以将节点文件夹里的LoRA一键保存到预设,此会将文件夹里的"LoRA 权重 名称 自定义文本"全部保存到本地json,需要的时候点击打开预设的UI即可将保存的预设直接发送到节点内.
>  
>   * 在之前如果你在选择LoRA后更改了它的位置导致后端找不到LoRA时并不会进行报错,现在添加了报错功能,会指明哪个LoRA后端没有找到.


> ### 更新日期： **2025.10.08**
>

> - #### 新增了整数到浮点和整数到布尔节点,删掉了双整数V3节点的整数和浮点输出.
>
> - #### 新增了文本选择V4节点,节点有五个文本框,但其它四个都隐藏了,只显示一个,通过节点下方的序号来切换当前展示的文本框.
>
> - #### 强力LORA节点的批量加载LoRA页面,右上角的播放全部MP4按钮改为了添加文本,开启后在添加LoRA时可以将LoRA的txt内容发送到LoRA的自定义文本框中。
>
>   * 优化了文件夹结构,将文件夹全放在了左边,右边用来展示LoRA列表,并且支持了搜索文件夹.

> ### 更新日期： **2025.10.05**
>

> - #### 新增了遮罩描边节点.
>
> - #### 为强力LORA节点的txt编辑UI和自定义文本编辑UI都添加了注释，并且即使没有预览图也可以直接编辑txt和log文件了，不过我还是更建议手动为其创建一个预览图，附属仓库里有批量下载介绍的exe。
>
> - #### 图像暂停选择节点新增了单图模式，可以单独查看一张图像，然后通过按钮来切换其它图像，更方便观察图像之间的差异。
>
> - #### 标签化提示词节点支持了从本地词库翻译，并且还添加了搜索提示词功能，输入中文和英文都可以进行搜索。
>
> - #### 全景图预览节点增加了平面预览的功能。
>

> ### 更新日期： **2025.10.01**
>

> - #### 优化了图像形变节点的使用体验。
>
> - #### 新增了布尔开关节点，用js实现布尔开关的无限放大且有条形滑块和方形按钮两种样式选择。
>
> - #### 新增了图像选择节点，输入1-5张图像可以通过索引值输出或随机输出。
>
> - #### 遮罩打码节点和YOLO打码节点都支持了处理透明通道，YOLO打码节点新增了检测模式，开启后如果YOLO检测到目标，则直接输出覆盖图像，可以用来检测涩图，有涩图就不输出这样，配合图像选择节点的随机功能可以随机输出安全图像。
>
> - #### 新增了从路径加载图像v2节点，功能和标签化图像选择节点一样，都是选择图像再输出，不过这个节点不需要打开UI，但也不支持预览子文件夹，适合给一些少量图像的文件夹使用。
>
> - #### 图像暂停节点大更新，更名为了图像暂停选择，节点可以输入多批次图像，图像会展示在节点内部，用户可以自由的可以为每一张图像分配输出接口，没有被分配到接口的图像不会被输出。
>   
>   * 因为支持了多批次输入，为了有足够的时间去选择，我将之前的自定义时间功能删掉了，改为了必须手动点击输出按钮后才会输出。
>     
>   * 节点可以配合统一图像分辨率节点使用，输入1-5张不同分辨率的图像，再手动选择要进行放大还是保存，或者是弃用。
>

> ### 更新日期： **2025.09.28**
>

> - #### 解决了可视化调色节点的版本错误问题，并修复了其全部功能，经过测试全部功能都可以正常使用，并优化了使用体验和UI布局。
>
> - #### 略微修改了保存图像节点和文本转格式节点。
>
> - #### 修复了文本图像节点在输入大量英文时字体大小显示异常额问题。
>

> ### 更新日期： **2025.09.26**
>

> - #### 删掉了合并相同提示词节点，将其功能合并到了文本转格式节点上。
>
> - #### 新增了图像加密节点。
>
> - #### 新增了图像水印节点。
>
> - #### 文本选择V3节点，预设文本UI页面，修复了文件夹会自动展开的bug，并支持了将文件夹一键发送到节点。
>
> - #### 标签化图像选择节点，新增了已选预览的UI，可以查看和管理已选的所有图像，新增了固定位置的按钮，加了一个文本块输出的按钮，关闭后不会输出文本框里的文本，可以不进入子文件夹就查看子文件夹中的图像，方便切换子文件夹（目前只能用在根目录下的子文件夹）。
>
> - #### 强力LoRA加载器节点，修复了已知bug，加了一个精简模式的布局，精简模式下没有自定义文本和自定义名称，算是完成了最初的目标(结合pysss和RG的功能为一身)。
>

> ### 更新日期： **2025.09.21**
>

> - #### 修复了画画节点在缩放视角后画笔显示异常的bug，为画画节点添加了默认图像。
>
> - #### 文本选择V3节点，预设文本的UI界面，支持了用文件夹存放文本。
>
> - #### 文本转格式节点新增“逗号追加换行”的选项。
>
> - #### 新增了颜色到遮罩的节点。
>

> ### 更新日期： **2025.09.18**
>

> - #### 新增了合并相同提示词节点，可以将相同的提示词合并为一个。
>
> - #### 新增追加提示词的节点，在检测到关键词后可以选中 追加/替换提示词/完整替换 预设的提示词。
>
> - #### 删除了文本块加载器节点。
>
> - #### 全面优化标签化图像选择节点，现在可选名称降序或升序两种排序模式，且增加了快速达到顶部或底部的按钮。将文本块加载器节点的功能合并到了标签化图像节点中。
>
> - #### 修复了画画节点的bug。
>
> - #### 强力lora加载器节点支持了搜索lora名称。
>
> - #### 优化了文本选择V3节点的功能。
>
> - #### 优化了可视化调色节点的使用体验。
>
> - #### 优化了预设分辨率节点的功能。
>

> ### 更新日期： **2025.09.13**
>

> - #### 新增了整数字符串互转节点。
>
> - #### 新增过度动画节点，生成图像A过度到图像B的动画。
>
> - #### 全面优化标签化图像选择节点，现在可以随机选择图像了，还增加了一个新的模式“中图标”，这样能够更方便的观察图像差异了，而且可以输出文件夹路径给从路径加载图像节点来并联随机。在开启“记住打开位置”的按钮时输出打开位置的路径，关闭时则输出地址栏的路径。
>
> - #### 将文本块提取器节点的UI删掉了，沿用了标签化图像选择节点的UI，和标签化选择图像节点不同的是它节点不展示路径索引，而是直接提取文本块展示到节点框里，可以在不修改图像里的文本块情况下对提示词做出修改。
>
> - #### 新增可视化调色节点，支持多种参数“亮度、对比度、噪点、暗角……”不一一举例了。
>
> - #### 其它各种小优化就暂不说明了。
>

> ### 更新日期： **2025.09.10**
>
> #### 这次更新挺大的

> - #### 新增多文本输入_五V2节点，给文本图像使用的。
>
> - #### 将合并、裁剪、画画节点的依赖文件路径改为了动态加载，不会再出现因为文件名末尾带有“main”而导致节点无法使用了。
>
> - #### 新增圆柱投影节点。
>
> - #### 新增预览全景图节点，VR预览你的图像，可以配合一个kontexet的lora使用。目前还在测试，提前发布是因为刚刚有人和我反馈之前发布的版本有bug，我不想仔细排查了，所以才将我现在可用的版本直接发布出来。
>
> - #### 强力lora加载器节点的lora名称列表输出类型改为了字符串，这也就是代表可以保存到文本块里了！将LoRA和画师串全部保存在一张图里，使用时直接加载一张图像即可，而且这样使用还不会在工作流中展示你的画师串和lora，就算你发送原图也不会泄露你的画风！为了适配这个功能，我还新增了文本分类节点，这样就可以设置特定的分隔符在文本块中隔开lora和提示词，再用文本分离节点来拆开它们。示例工作流已上传！
>
> - #### 文本图像节点大更新！选择支持输入图像了，输入的情况下，节点会将文本图像自动拼接到输入图像上，方便给图像加注释和做对比图。支持批量加载图像！加载多批图像时会自动排序并自动计算字体大小和文本图像分辨率，如果你想指定排序起始数、步长、前缀和后缀这些，只需要使用语法“#x:x#”即可，x是数字，比如输入“ZML_#0:0.5#W”，那么第一张的图像序号就为“ZML_0_W”，第二张“ZML_0.5_W”……这样一直排序下去！为了适配这个节点，我还优化了统一分辨率节点，搭配使用更方便！
>

> ### 更新日期： **2025.09.06**

> - #### 优化了强力lora加载器节点的UI，使其使用起来更加舒适！并且添加了多个颜色主题选择！！
>
> - #### 优化了所有的文本节点！使它们都支持了换行操作！而且默认分隔符我也都改为了“,\n\n”！使提示词结构更加清晰可见！
>
> - #### 文本选择V3节点新增一个预设文本的按钮，可以一键将预设添加到文本框！
> 
> - #### 新增名称加载lora(nunchaku)节点，是的，它适配了nunchaku，可以用“强力lora加载器”节点配合“名称加载lora(nunchaku)”来更方便的使用nunchaku了！
> 

> ### 更新日期： **2025.09.04**

> - #### 标签化选择图像节点现在可以记住上次打开的位置了，再也不用每次打开时都去一个个找子文件夹了。
>
> - #### 删掉了普通的lora加载节点。
>
> - #### 解析lora元数据和强力lora的获取c站信息，现在遇到wan的lora时会同时保存MP4和初始帧。
> 
> - #### 强力lora加载器节点，批量添加lora页面，支持播放MP4了！！
>
> - #### 还有些小优化，就不详细说明了。
>

> ### 更新日期： **2025.09.03**

> - #### 修复了随机文本权重节点的一个小bug。
>
> - #### 修复了保存图像节点无法预览图像的bug。
>
> - #### 遮罩分割节点新增了对角线遮罩。
> 
> - #### 删掉了GIF文件路径节点，新增了从路径加载视频节点，也支持加载GIF。
>
> - #### 优化了文本转格式节点，现在除了NAI权重转SD外还支持一键清空全部权重，无论是NAI还SD的权重都可以一键清空，支持了给提示词后面的逗号追加空格，删掉了help文本（标签化标点符号就是将不符合规格的逗号句号和断开语法“BREAK”改为适合SDXL的语法）。
>
> - #### 新增了限制图像比例节点，可以将图像填充或裁剪到指定比例，后续还可以用限制纯色背景节点去掉填充的背景。
>
> - #### 优化了强力lora加载器节点，主要为批量加载lora的UI界面。
>
>   * 除了方形展示预览图外，还支持了竖向和横向。
>
>   * 可以实时查看和修改txt和log文件（触发词和介绍），还可以一键删除lora和相关文件，删除后的lora会被贴上“已删除”的文字，以防错误加载。
>

> ### 更新日期： **2025.09.02**

> - #### 修复了强力lora节点无法使用的问题，代码少了一个标点符号，
>
> - #### 新增了限制遮罩形状节点。
>
> - #### 修复了桌宠无法正常加载的bug。
>
> - #### 优化了标签化提示词加载器。
>
> - #### 画画节点新加了几个预设颜色，并且优化了UI和使用体验。
>
> - #### 优化了标签化图像加载器节点。
>

> ### 更新日期： **2025.08.27**

> - #### 解决了强力lora加载器代码导致comfyui设置页面的按钮显示异常的问题。
>
> - #### 解决了自动打码节点在部分情况下读取不到YOLO模型的问题。
>
> - #### 新增了YOLO到遮罩的节点。
>
> - #### 优化了预设分辨率和预设文本节点。
>
> - #### 新增遮罩分离节点，可以将一个遮罩分离为二或三个遮罩，可以用在条件分区的情况下YOLO自动检测修脸什么的。
>
> - #### 新增统一图像分辨率的节点。
>
> - #### 桌宠新增聊天功能！可以右键选择聊天模式，在设置里输入自己的谷歌api密钥进行聊天！
>  
>   * 还有投喂功能！打开商店选择食物，然后投喂妹妹！有字幕和音效！
>  
>   * 还加了倒计时功能，可能会有用吧……
>  
>   * 如果你想更改桌宠的素材，比如音效和图像，都可以直接用同名文件替换掉ComfyUI-ZML-Image\zml_w\web\images里的文件。
>  
>   * 如果你不喜欢这个桌宠，可以选择右键隐藏或者直接删掉ComfyUI-ZML-Image\zml_w\web\js\zml_floating_ball.js文件。
>  

> ### 更新日期： **2025.08.27**

> - #### 优化了遮罩分割节点。
>
> - #### 对画画节点进行了大更新，现在支持绘制输入的图像、绘制马赛克、绘制简易形状，形状包括“方形、三角形、圆形、心形、五角形、箭头”。
>
> - #### 新增了图像形变的节点，模拟PS里的液化和形变功能，但目前不支持处理透明通道，有空修。
>
> - #### 选择文本V3节点和强力lora加载器节点的自定义文本输入框改为了只读，可以点击后弹出窗口进行修改，不用在那狭小的区域写文本了。
>
> - #### 修复了强力lora加载器节点不连接clip会报错的问题，现在是真的变成可选了。
>
> - #### 给强力lora加载器节点增加了一个批量添加Lora的弹窗页面，并且可以一键获取lora信息。给按钮增加了css视觉反馈，这样就不会显得那么土了，
>
> - #### 新增分类图像节点，可以快速分类出“无元数据、有元数据、有文本块”的图像，示例工作流也已经上传。
>
> - #### 新增名称加载lora节点。强力lora节点新增一个lora名称列表的输出接口，可以输出加载的lora名称和权重给“名称加载lora”节点，以达到修改一个节点的参数同时影响多个节点的效果。当你在模型接力时不想在两个lora节点里都手动添加lora时，就可以给采样器2接入“名称加载lora”节点，这个时候只需要修改采样器1连接的强力lora加载器节点即可。参考工作流以已上传。
>

> ### 更新日期： **2025.08.22**

> - #### 将强力lora加载器的输入接口全部改为可选。
>
> - ### 彻底修复了强力lora加载器节点和文本选择V3节点的UI显示bug！！
> 

> ### 更新日期： **2025.08.19**

> - #### 修复了标签化提示词节点的一些bug，还优化了一些功能。
>
> - ### 以前的文本图像和文本水印节点只有在全屏模式下留空颜色代码才会显示透明，现在所有位置都可以了！
> 
> - #### 给强力lora加载器节点加了个文件夹的按钮，现在可以把lora放在文件夹里了，更方便分类！！创建一个文件夹，然后拖拽lora到文件夹里即可！为了防止误删，我还限制了必须是没有lora的空文件夹才可以删除！文件夹的样式可以自定义，推荐先给节点设置一个喜欢的颜色，然后再用吸管工具给文件夹上色。
>
> - #### 强力lora节点都有文件夹功能了，那必须要给选择文本V3节点也整一个！
>

> ### 更新日期： **2025.08.16**

> ### 超级大更新！！
> 
> - #### 文本行节点可以同时随机多行了。
>
> - #### 解析lora的节点也支持树状文件夹了。
>
> - #### 新增选择文本V3节点，可以实时增加新的文本框，每个文本框都有对应的布尔开关和删除按钮，还都可以设置自己的名字，名字不会输出，节点只会将启用的文本框里的文本内容合并后进行输出。
>
> - #### 新增强力lora加载器节点，是的，这个节点的灵感借鉴了RG。
>
>   * 节点继承了之前的lora加载器的 **“树状文件夹、鼠标悬停预览图像、输出预设的txt提示词”** ，并且节点可以实时增加新的lora，就像RG的强力lora加载器那样，而且节点还可以给lora**设置名字和自定义文本**，名字和自定义文本是储存在工作流里的，跟lora文件和txt文件无关！
>   * 如果不想设置名字和自定义文本，可以把尺寸改到最小，节点支持实时更改名字和文本框的大小！lora有快捷开关和删除按钮，还有拖动按钮，也可以锁定拖动按钮防止误触，很厉害吧！！
>  
>   * 目前**已知问题**为刷新页面后节点会显示为初始样式，看起来好像之前保存的东西都没了，但其实只是一个小小的显示bug，没有实际影响，点击一下“🔒”或者其它的什么东西来更新节点就恢复正常了。
>

> ### 更新日期： **2025.08.14**

> #### 分类了一下节点，新增了一个“其它”分类。
> 
> - #### 新增旋转图像节点。
>
> - #### 新增桥接预览图像节点。
>
> - #### 合并图像节点加了个调节前景图不透明度的功能。
>
> - #### 桌宠加了个记录上次位置的功能。
>
> - #### 随机文本权重节点新加了文本框。
>
> - #### 文本水印节点和文本图像节点新增了描边的功能。之前颜色代码留空=随机颜色，现在要随机颜色需要输入“ZML”，留空变成了透明颜色。透明的水印不妨碍观看原图像，并且可以让水印更难以去除。
>   

> ### 更新日期： **2025.08.11**

> - #### 更新了画画节点。

> ### 更新日期： **2025.08.08**

> - #### 新增了标签化提示词加载节点，和旧版weilin相似，用js重新写的ui，功能仿旧版weilin，支持批量导入tag，仅支持txt文件导入，导入格式为 “中文,英文”，如“一个女孩,1girl”。目前还是半成品。

> ### 更新日期： **2025.08.07**

> - 增加了悬浮球！！还有互动哦~常态模式为png图片，运行工作流时为GIF动画，双击悬浮球会短暂更改图片和播放音频！鼠标悬停在悬浮球上还会有呼吸效果！！右键悬浮球可以关闭双击音频和隐藏悬浮球，设置里有 **“更详细”** 的参数！这是一个纯娱乐的功能，如果你不喜欢，可以在设置里关掉。如果想更改图片和GIF动画，可以在ComfyUI-ZML-Image\zml_w\web\images文件夹里替换文件，但要确保文件名以及文件格式正确。
> 
> - 新增一个简易的图像保存节点，节点选项只有“操作模式、保存路径、文本块储存”三个，非常的整洁！
> 
> - 修复了一些小bug，做了一些小优化。
> 

> 更新日期：2025.08.06 又一次超级大更新！！

> 增加了标签化图像加载节点，UI借鉴了weilin，可以通过点击按钮来批量加载图像并读取文本块，鼠标悬停在按钮上还可以预览图像！
> 
> 还增加了一个单文本块加载节点，比加载图像节点更方便使用！！
> 
> 新增一个音频播放器的节点，内置了几个音频  Ciallo～(∠・ω< )⌒☆
>  
> 删除了lora分层控制节点。
>
> 优化了一些节点。

> 更新日期：2025.08.03
> 
> 现在应该可以通过Manager安装了，我已经修好bug了！
> 
> 新增双浮点节点。
> 
> 新增预设分辨率节点，和预设文本节点功能类似。
> 
> 新增双整数V3（判断节点），在节点里预设三个分辨率尺寸，然后对输入接口输入的值进行判断，如果输入的宽>高则输出预设的第一个分辨率，输入的宽<高则输出预设的第三个分辨率，如果宽=高或者宽高差值没有超过阈值，则输出第二个分辨率。我做这个是给wan图生视频用的，V2版本虽然可以一键切换分辨率但还是要手动，有时候会忘了调整，而V3版本可以自动判断视频分辨率，方便多了。
> 
> 为了快速的准备好lora的介绍（log）、触发词（txt）、图片，做了一个解析lora元数据的节点，加载lora即可自动下载好 lora加载器所需的txt、log和图片文件夹，且自动放在加载lora目录的子文件夹zml里，非常方便。
> 
> 可视化裁剪节点支持原分辨率输出了。
> 

> **下面是之前写的节点介绍**
>

> 0、和官方的保存图像节点相比，多了个输入文本块的功能，将任意文本提示词输入到节点里，将输入的文本写入图像的元数据（不是工作流信息），文本块需要特定的方式才能提取出来，支持自定义图像名称的前缀后缀，图像名称计数和根据当前时间命名，还可以缩放图像并删除图像元数据（工作流信息），只保留文本块的信息让硬盘压力大幅度降低。
> 
> 1、和官方的加载图像节点相比，节点只会加载单帧图片，即使加载的是GIF也只会输出一张图片，支持输出含透明通道的图像，可以读取图像的文件名，可以读取图像保存的文本块信息，对，就是保存节点保存的文本块。
> 
> 2、从路径加载图像节点支持从文件夹中读取图像和对应文本块，支持固定索引、顺序索引、随机索引这三种模式（抽卡抽到爽！）。
> 
> 3、图片/GIF转为HTML文件节点，在外面完全看不出来这个文件里是什么，必须下载后在本地打开才会显示图像/GIF里的内容，至于这个功能主要在什么时候使用...你知道的\\\_‘
> 
> 4、将NAI权重格式转化为SD权重格式，还可以帮助过滤不想要的tag，还可以格式化标点符号，还可以自定义删除任意的字符。
> 
> 5、随机文本行（也可以按照顺序加载和按照索引加载）和随机画师（可自定义随机画师数量和画师权重的最大最小值），内置1000画师的txt文件，也可以自己添加。
>
> 6、有多个文本输入节点和文本选择节点，文本选择节点就是将提示词提前写好到节点里，再选择启用哪个，适合用来放一些常用的提示词（我一般放wan的常用提示词）。
> 
> 7、有限制分辨率格式的节点，可以用于格式化生图的分辨率（默认是生图的分辨率‘8’），也可以用于限制wan的分辨率格式和wan的帧数格式，具体用法看自己。
> 
> 8、可以使用yolo模型来自动打码，也可以自己输入遮罩来来打码。
> 
> 9、可以给图像添加文字水印，文字识别到图像边界时会自动换行，也可生成全屏水印，内置可商用字体。
> 
> 10、可以随机整数或预设整数并通过索引调用，随机生图分辨率和快速切换分辨率变得简单。
> 
> 11、基于ComfyUI-Custom-Scripts里的lora节点（LoRA加载器(pysss)）创建新三个新的节点，原节点GitHub链接：https://github.com/pythongosssss/ComfyUI-Custom-Scripts
。感谢作者的付出。在lora目录创建一个子文件夹‘zml’，里面放上和lora文件同名的图片、txt、log文件即可使用节点读取对应信息，选择lora时鼠标悬停可以预览图片，且会根据文件夹来分类lora文件。文件夹结构应该是这样的：lora/zml。lora里放着lora文件，比如111.safetensors，zml文件夹里放着111.png、111.txt、111.log。这真是一个伟大的创意，再次感谢原作者的付出。
> 
> 12、可视化裁剪图像节点，将加载图像的节点连接到此节点上，然后点击“裁剪图像”的按钮来打开ui进行手动调整裁剪区域，支持矩形、圆形、路径选择、画笔（套索）选择四种裁剪方式，不需要再打开ps啦！
> 
> 13、限制纯色背景大小节点，可以自动去除背景里多余的像素，目前支持白色、绿色、透明三种，节点会尽可能的将无用的多余像素裁剪掉，以方便进行拼接图像，支持将背景抠成矩形和不规则两种形状。
> 
> 14、添加纯色背景的节点，可以将图像对图像外部进行描边，如果图像是含透明通道的，则可以检测主体的轮廓，根据主体轮廓进行描边，描边的颜色支持“白色、黑色、绿色、透明”。
> 
> 15、合并图像节点，就是将2-4张图像ps到一起，目前虽然已经有其它节点做出了此功能，但我觉得不是太好操作，所以制作了此节点。和裁剪图像节点一样，也是点击按钮打开ui来处理图像，不需要事先运行工作流，只需要使用加载图像的节点连接到此节点上，然后点击按钮打开ui来编辑图像，编辑好后你的操作会保存到节点内部，直接运行节点即可输出之前处理好的图像。用来打码图像也是可以的，
> 
> 16、画画节点，就是一个画笔随意在图像上涂抹。
> 
> 17、图像暂停节点，节点会卡住15s，让你选择这次的图像输出哪个管道，只做了三个输出接口，未选中的接口只会输出占位图像，而不会输出输入的图像。可以接在采样器后面，图像满意就保存，不满意就仅预览，一般的图像保存节点会将占位图像也保存了，即使它只有1\\\*1像素，但用ZML\\\_保存图像节点就不会，专门做了优化。

</details>

## ✨图像展示更新节点

<details>
<summary>点击查看更新节点图像</summary>

> ### 更新日期： **2025.10.13**

> <img width="1393" height="595" alt="屏幕截图 2025-10-13 054901" src="https://github.com/user-attachments/assets/33b90b74-1bea-4701-9f0a-a3d3ed716a15" />
> <img width="1029" height="807" alt="屏幕截图 2025-10-13 054749" src="https://github.com/user-attachments/assets/3e3eaa22-6446-4a1e-8364-cbb6137c51be" />

> ### 更新日期： **2025.10.08**

> <img width="993" height="749" alt="D74C52B9786DDAEEBC107E59B95FD2BC" src="https://github.com/user-attachments/assets/b9966dbe-4f9e-4c11-b822-3464395620b2" />
> <img width="1679" height="760" alt="231A83BA9E7E49669AB4EE8CF2169744" src="https://github.com/user-attachments/assets/734f7e71-8207-45df-be0e-e73601e32174" />


> ### 更新日期： **2025.10.01**

> <img width="1430" height="802" alt="屏幕截图 2025-10-01 060838" src="https://github.com/user-attachments/assets/91e5d420-3cc7-4b2e-aac4-f4e3a31c4902" />
> <img width="1811" height="646" alt="屏幕截图 2025-10-01 055543" src="https://github.com/user-attachments/assets/36615d79-d0c3-484c-bfb7-13767552193e" />
> <img width="1417" height="886" alt="屏幕截图 2025-10-01 060430" src="https://github.com/user-attachments/assets/bffd73e3-7961-4378-bb4b-c13737ca33b7" />

> ### 更新日期： **2025.09.18**

> <img width="1416" height="735" alt="屏幕截图 2025-09-17 171252" src="https://github.com/user-attachments/assets/aa6bfc94-6970-41b4-a177-a2815f0d0eab" />
> <img width="1314" height="604" alt="屏幕截图 2025-09-17 171409" src="https://github.com/user-attachments/assets/e655ee31-e87d-4159-90b9-e61eb5df086a" />
> <img width="1850" height="922" alt="屏幕截图 2025-09-17 171441" src="https://github.com/user-attachments/assets/47520ee9-0fc6-4409-ba69-38f8271b562f" />
> <img width="1030" height="882" alt="屏幕截图 2025-09-17 171304" src="https://github.com/user-attachments/assets/508ee11d-6491-4f0e-9db0-653fd43b1c34" />
> <img width="567" height="623" alt="屏幕截图 2025-09-17 171416" src="https://github.com/user-attachments/assets/5ef10471-affc-4ec2-bf51-ee6ccc39357d" />

> ### 更新日期： **2025.09.13**

> <img width="868" height="875" alt="1" src="https://github.com/user-attachments/assets/31466b9e-e28b-42b4-87e1-2e3c53986620" />
> 
> <img width="1762" height="880" alt="2" src="https://github.com/user-attachments/assets/f03631ce-dddc-4aa9-b0ef-13a3b004a4e0" />
> 
> <img width="1373" height="526" alt="3" src="https://github.com/user-attachments/assets/e709c63b-a835-4805-b264-3a554e3c2bd4" />
>
> https://github.com/user-attachments/assets/ffd4a564-1659-4322-92ae-f47234c06702
> 

> ### 更新日期： **2025.09.06**

> <img width="1408" height="669" alt="屏幕截图 2025-09-09 013650" src="https://github.com/user-attachments/assets/4286f7b9-19fd-400e-8c98-16732a82815f" />
>
> ![5F46A8F3AA5F87588473C0F74707C213](https://github.com/user-attachments/assets/1452355a-ea95-4718-a835-bde0e791f379)
> 

> ### 更新日期： **2025.09.06**

><img width="1687" height="786" alt="4" src="https://github.com/user-attachments/assets/151b4379-c9ce-4339-b512-c8aaf313d6a0" />
>
> <img width="1154" height="839" alt="1" src="https://github.com/user-attachments/assets/b8229940-2363-4d93-8c21-9185bdb4efd1" />
> 
> <img width="1204" height="664" alt="2" src="https://github.com/user-attachments/assets/7561e40b-4461-4a44-a70b-0dfb27c6d290" />
> 
> <img width="986" height="830" alt="3" src="https://github.com/user-attachments/assets/3f5dc8a2-5183-4cee-96e7-8b39ce197b3e" />
>

> ### 更新日期： **2025.09.03**

> <img width="896" height="429" alt="1" src="https://github.com/user-attachments/assets/16d79123-9689-476d-a1cf-65431ba03dd0" />
> 
> <img width="909" height="778" alt="2" src="https://github.com/user-attachments/assets/eb20dc55-62e8-499b-bb8c-70f0158397c0" />
> 
> <img width="1103" height="759" alt="3" src="https://github.com/user-attachments/assets/3fdbb9d7-276a-468d-ab4b-b52b334346fd" />
> 

> ### 更新日期： **2025.09.02**

> <img width="1782" height="869" alt="2" src="https://github.com/user-attachments/assets/54bd9449-4034-4b1b-abdc-87dfefb1a3c4" />
> 
> <img width="1048" height="925" alt="4" src="https://github.com/user-attachments/assets/1607ebfc-0e33-4818-9845-9aa366a19ee1" />
> 
> <img width="1722" height="912" alt="3" src="https://github.com/user-attachments/assets/1ff2e9ce-0d44-473d-bf42-2c9b14366265" />
> 
> <img width="1356" height="865" alt="1" src="https://github.com/user-attachments/assets/e4b1370b-130a-419c-b0c4-d94ada5283df" />
>

> #### 早期的节点截图（小部分）

> <img width="1632" height="875" alt="1" src="https://github.com/user-attachments/assets/77ccda88-1851-4948-a45b-2f42b46d7f53" />
>
> <img width="1601" height="784" alt="2" src="https://github.com/user-attachments/assets/21f9d0aa-834e-48dd-9384-584e0a215284" />
>
> <img width="1210" height="913" alt="3" src="https://github.com/user-attachments/assets/3359a2fd-a55a-4068-aa25-0338298b7c0b" />
>
> <img width="1698" height="862" alt="4" src="https://github.com/user-attachments/assets/059746d8-31e0-4c97-a620-6e490a6a79b4" />
> 
> <img width="1607" height="755" alt="5" src="https://github.com/user-attachments/assets/8fe91394-8874-4eb4-85dc-d7f8ce6a86da" />
>
> <img width="1719" height="745" alt="6" src="https://github.com/user-attachments/assets/2eee7e21-52a0-4d6a-bd9f-8edd52e84eff" />
>
> <img width="1261" height="762" alt="7" src="https://github.com/user-attachments/assets/a1e67136-0ed7-4664-8f3a-3de69282f71b" />
>
> <img width="982" height="893" alt="8" src="https://github.com/user-attachments/assets/dd905d68-138d-4c30-a0e2-dbdb206c11e9" />
>
> <img width="1254" height="753" alt="9" src="https://github.com/user-attachments/assets/14e6f8df-8b36-4d06-a827-8bbdef1b0e8f" />
>
> <img width="1389" height="683" alt="10" src="https://github.com/user-attachments/assets/0757a6e3-d557-4284-ad56-dcc0e004b41c" />
>
> <img width="1294" height="816" alt="11" src="https://github.com/user-attachments/assets/de9b70a5-03b0-426a-90fc-bf1d8295abf2" />
>
> <img width="1131" height="712" alt="12" src="https://github.com/user-attachments/assets/c0d253aa-96c2-4a9e-b64f-682f3908fa2e" />
>
> <img width="1196" height="639" alt="13" src="https://github.com/user-attachments/assets/c1793444-d44f-47cd-89a4-67c408cde01e" />
>
> <img width="911" height="894" alt="14" src="https://github.com/user-attachments/assets/4f666b73-f968-4182-a327-e29187ddf202" />
>
> <img width="1290" height="760" alt="15" src="https://github.com/user-attachments/assets/5a520228-fe42-49c9-a43d-e545474254f4" />

</details>


## ✨视频介绍：[点击访问](https://www.bilibili.com/video/BV1i4twzDELr/?spm_id_from=333.1007.0.0&vd_source=0134812498ce59b7f53810ad84889d12)

`介绍少，没更新视频`

### ✨附属脚本仓库：

`这里放的是我做的一些小工具，有的是辅助节点使用，有的是提取的节点功能`

`脚本都是独立运行的，而不是在comfyui中使用`

- **https://github.com/zml-w/ZML-Image-Script/tree/main**
  
### ✨QQ群聊：1023857787

**在群聊里可以找到已经写入文本块的图像，你可以直接使用它们**

**如果不想添加群聊，那也可以通过[百度网盘](https://pan.baidu.com/s/1ULhAL6TKcujkOu1aHDgRVQ?pwd=ZMLw)下载**



## ✨部分节点和功能是借鉴的别人的，感谢他们💕

### 借鉴的代码：

- **LoRA加载节点：https://github.com/pythongosssss/ComfyUI-Custom-Scripts**

### 借鉴的灵感：

- **桌宠：https://github.com/11dogzi/Comfyui-ergouzi-kaiguan**

- **标签化提示词：https://github.com/weilin9999/WeiLin-ComfyUI-prompt-all-in-one**

- **桥接预览图像：https://github.com/ltdrdata/ComfyUI-Impact-Pack**

- **强力LoRA加载器：https://github.com/rgthree/rgthree-comfy**

- **任意切换：https://github.com/yolain/ComfyUI-Easy-Use**
  
### 高级图像处理的节点使用到了一些第三方库:

- **cropper.min.js**
  
- **fabric.min.js**
  
- **pixi.min.js**
  
- **three.min.js**

## 有问题可以提交，有想法也可以提交

`妹妹好可爱，放个妹妹`

<img width="1024" height="540" alt="妹相随_6" src="https://github.com/user-attachments/assets/bc18deae-6c3c-4e70-a642-1b4210accdc3" />

